var json;$(function(){function e(){if(void 0!==$){var t=M[L[0]],i=M[L[1]],o=M[L[2]],n=M[L[3]],s=1-O,l=Math.round(s*t[0]+O*i[0]),a=Math.round(s*t[1]+O*i[1]),r=Math.round(s*t[2]+O*i[2]),c="rgb("+l+","+a+","+r+")",f=Math.round(s*o[0]+O*n[0]),u=Math.round(s*o[1]+O*n[1]),v=Math.round(s*o[2]+O*n[2]),h="rgb("+f+","+u+","+v+")";$(".slide-one").css({background:"-webkit-gradient(linear, left top, right top, from("+c+"), to("+h+"))"}).css({background:"-moz-linear-gradient(left, "+c+" 0%, "+h+" 100%)"}),O+=I,O>=1&&(O%=1,L[0]=L[1],L[2]=L[3],L[1]=(L[1]+Math.floor(1+Math.random()*(M.length-1)))%M.length,L[3]=(L[3]+Math.floor(1+Math.random()*(M.length-1)))%M.length),d=setTimeout(e,50)}}var t=$(".bo img"),i=$(".lo img"),o=$(".bo .text, .bo .text-mobile"),n=$(".lo .text, .lo .text-mobile"),s=$(".bo-desc"),l=$(".lo-desc"),a=$(".bo-desc .close"),r=$(".lo-desc .close");o.on("click",function(){s.addClass("open"),l.removeClass("open")}),n.on("click",function(){s.removeClass("open"),l.addClass("open")}),a.on("click",function(){s.removeClass("open")}),r.on("click",function(){l.removeClass("open")});var c=[t,i,$(".bo .text"),$(".lo .text")];$(c).each(function(e,t){t.addClass("invisible")});var d,f,u=function(e){var t=0,i=$(e+" circle"),o=function(){var e=i.attr("r"),n=Math.PI*(2*e),s=(100-t)/100*n*-1;i.css({strokeDashoffset:s}),t++,100>t?setTimeout(o,10):i.css({strokeDashoffset:0})};o()},v=function(e){return c.length===e?void(c=[]):(c[e].removeClass("invisible"),e++,2===e?setTimeout(function(){u(".bo .progress-circle")},1700):3===e&&setTimeout(function(){u(".lo .progress-circle")},1700),void setTimeout(function(){v(e)},1500))},h=function(e,t){var i=this;return i.target=e,i.top=t.top,i.left=t.left,i.time=t.time,i.lastTop=0,i.lastLeft=0,i.cycle=function(){i.lastTop+=i.top.delta,i.lastLeft+=i.left.delta,(i.lastTop>=i.top.high||i.lastTop<=i.top.low)&&(i.top.delta*=-1),(i.lastLeft>=i.left.high||i.lastLeft<=i.left.low)&&(i.left.delta*=-1),i.target.animate({top:i.lastTop,left:i.lastLeft},i.time),setTimeout(i.cycle,i.time)},i.cycle(),i},m=(new h(t,{top:{low:-80,high:50,delta:1},left:{low:-10,high:70,delta:-.5},time:50}),new h(i,{top:{low:-30,high:10,delta:-1},left:{low:-70,high:20,delta:-.5},time:50}),function(e){var t=parseInt(e.attr("y2"));t>=500||(e.attr("y2",t+5),setTimeout(function(){m(e)},10))}),p=function(e){var t=parseInt(e.attr("x2"));return t>=1110?(m($($(".projects-container .lines line")[1])),void m($($(".projects-container .lines line")[2]))):(e.attr("x2",t+10),void setTimeout(function(){p(e)},10))},g=function(e){if(0===e.length)return void p($($(".projects-container .lines line")[0]));var t=$(e[0]);t.addClass("fade-in"),e=e.splice(1),setTimeout(function(){g(e)},900)},T=function(e){return 0===e.length?void $(".slide-four .text").addClass("fade-in"):($(e[0]).addClass("fade-in"),e=e.splice(1),void setTimeout(function(){T(e)},900))},b=!1,w=7,k=function(){$(".slide-one .logo-w").addClass("fade-in"),setTimeout(C,1500)},C=function(){$(".slide-one .logo-y").addClass("fade-in"),$(".slide-one .logo-w").removeClass("fade-in"),setTimeout(function(){y(0)},2500)},y=function(e){if(e===w-2)j();else if(e===w)return;$(".slide-one .logo-y").toggleClass("heartbeat"),setTimeout(function(){y(e+1)},500)},j=function(){$(".slide-one .logo-y").removeClass("fade-in"),setTimeout(function(){$(".slide-one .logo-w, .slide-one .logo-y").hide(),Z()},1500)},x=function(){$(".slide-one .logo-s").addClass("fade-in"),setTimeout(e,1500)},M=new Array([255,0,0],[255,165,0],[255,255,0],[128,0,128]),O=0,L=[0,1,2,3],I=.008,P=$(".slide"),D=void 0,_=0,q=1,z=!1,A=2,B=!1,J=3,N=!1,S=function(){f=0,$(".left-arrow").hide(),U(0),P.addClass("loaded")},U=function(e){void 0===e&&(e=2e3);for(var t=0;t<P.length;t++){var i=100*(t-f)+"%";$(P[t]).css("left",i),$(P[t]).css("overflow","hidden")}void 0!==D&&clearTimeout(D),D=setTimeout(function(){for(var e=0;e<P.length;e++)$(P[e]).css("overflow","");D=void 0},e),f===_?b||(b=!0,setTimeout(k,e)):clearTimeout(d),f!==q||z?f!==A||B?f!==J||N||(N=!0,setTimeout(function(){$(".main-fruit").addClass("fade-in"),setTimeout(function(){T($(".fruits .fruit"))},900)},e)):(B=!0,setTimeout(function(){g($(".projects .project"))},e)):(z=!0,setTimeout(function(){v(0)},e))},W=function(){f===P.length-1?$(".right-arrow").hide():$(".right-arrow").show(),f>0?$(".left-arrow").show():$(".left-arrow").hide()},E=function(){f++,W(),U()},F=function(){f--,W(),U()};$(".right-arrow").on("click",E),$(".left-arrow").on("click",F),S();var G=function(){$(".marked.we").on("click",function(){f=q,W(),U()}),$(".marked.them").on("click",function(){f=A,W(),U()}),$(".marked.us").on("click",function(){f=J,W(),U()})};$(".slide-three .down").on("click",function(){$(".slide-three").animate({scrollTop:$(".clients-page").offset().top},1e3)}),$(".slide-three .up").on("click",function(){$(".slide-three").animate({scrollTop:0},1e3)});var H,K,Q,R,V='<div class="title">    <span class="marked underline we">We</span> make stuff</div><br><div class="title">    for <span class="marked underline them">them</span>, <a href="mailto:info@lobo.io" class="marked you">y<span class="underline">ou</span></a> and <span class="marked underline us">us</span>.</div><br><div class="text">    LO.BO is a hard-working multi-disciplinary agency delivering high quality projects.</div>',X=0,Y=$(".slide-one .content"),Z=function(){Q=V.slice(0,++X);var e=V.slice(X);if(Q===V)return G(),void x();var t=Q.slice(-1);if("<"===t){if(H=!0,0===e.indexOf("span"))K=!0;else if(0===e.indexOf("/span"))return K=!1,void setTimeout(Z,1e3)}else">"===t?H=!1:0===e.indexOf("Lobo ")&&(R=!0);return H||" "===t?Z():(Q+=K?'</span><div class="slash">|</div>':'<div class="slash">|</div>',Y.html(Q),void(R?setTimeout(Z,30):setTimeout(Z,150)))};$.getJSON("data/data.json",function(e){json=e,$(".bo-desc .title").html(e["section-2"].bo.title),$(".bo-desc .text").html(e["section-2"].bo.text),$(".lo-desc .title").html(e["section-2"].lo.title),$(".lo-desc .text").html(e["section-2"].lo.text);for(var t=0;t<e["section-3"].projects.length&&6>t;t++){var i,o=e["section-3"].projects[t],n=$('<div class="project">    <div class="info">        <div class="title"></div>        <div class="desc"></div>    </div>    <div class="link"><i class="fa fa-eye"></i></div></div>');if(o.desc.length>300){i=o.desc.substring(0,300);var s=i.lastIndexOf(" ");s>0&&(i=i.substring(0,s)),i+="..."}else i=o.desc;n.find(".title").html(o.title),n.find(".desc").html(i),t===e["section-3"].projects.length-1&&n.addClass("last"),n.magnificPopup({items:o.imgs,gallery:{enabled:!0},type:"image",removalDelay:400}),$(".slide-three .projects").append(n)}$('<div class="clean"></div>').appendTo($(".slide-three .projects"));for(var l=$(".slide-three .clients .col"),a={},r=0,t=0;t<e["section-3"].clients.length;t++){var c=e["section-3"].clients[t],d=c.title[0].toUpperCase();a.hasOwnProperty(d)||(a[d]=[],r++),a[d].push(c)}var f=l.length,u=0,v=Math.floor(r/f),h=r%f;r=0;for(var m in a)if(a.hasOwnProperty(m)){var p=$('<div class="group">    <div class="title"></div></div>');p.find(".title").html(m);for(var t=0;t<a[m].length;t++){var c=a[m][t],g=$('<div class="item"><a></a></div>');g.find("a").attr("href",c.url).html(c.title),p.append(g)}$(l[0]).append(p),r++,(r%v===0&&u>=h||r%(v+1)===0)&&(l=l.splice(1),u++)}for(var t=0;t<e["section-4"].projects.length;t++){var o=e["section-4"].projects[t],n=$('<div class="fruit">    <a target="_blank">        <img />        <div class="title"></div>    </a></div>');n.find("a").attr("href",o.url),n.find("img").attr("src",o.logo),n.find(".title").html(o.title),t===e["section-4"].projects.length-1&&n.addClass("last"),$(".slide-four .fruits").append(n)}$('<div class="clean"></div>').appendTo($(".slide-four .fruits"));var T=$('<a target="_blank"><img></a>');T.attr("href",e["section-4"]["main-project"].url),T.find("img").attr("src",e["section-4"]["main-project"].logo),$(".slide-four .main-fruit").append(T)})});