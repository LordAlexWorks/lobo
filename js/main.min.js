var json;$(function(){function e(){if(void 0!==$){var t=O[I[0]],i=O[I[1]],o=O[I[2]],n=O[I[3]],s=1-L,l=Math.round(s*t[0]+L*i[0]),a=Math.round(s*t[1]+L*i[1]),r=Math.round(s*t[2]+L*i[2]),d="rgb("+l+","+a+","+r+")",f=Math.round(s*o[0]+L*n[0]),u=Math.round(s*o[1]+L*n[1]),v=Math.round(s*o[2]+L*n[2]),h="rgb("+f+","+u+","+v+")";$(".slide-one").css({background:"-webkit-gradient(linear, left top, right top, from("+d+"), to("+h+"))"}).css({background:"-moz-linear-gradient(left, "+d+" 0%, "+h+" 100%)"}),L+=P,L>=1&&(L%=1,I[0]=I[1],I[2]=I[3],I[1]=(I[1]+Math.floor(1+Math.random()*(O.length-1)))%O.length,I[3]=(I[3]+Math.floor(1+Math.random()*(O.length-1)))%O.length),c=setTimeout(e,50)}}var t=$(".bo img"),i=$(".lo img"),o=$(".bo .text, .bo .text-mobile"),n=$(".lo .text, .lo .text-mobile"),s=$(".bo-desc"),l=$(".lo-desc"),a=$(".bo-desc .close"),r=$(".lo-desc .close");o.on("click",function(){s.addClass("open"),l.removeClass("open")}),n.on("click",function(){s.removeClass("open"),l.addClass("open")}),a.on("click",function(){s.removeClass("open")}),r.on("click",function(){l.removeClass("open")});var d=[t,i,$(".bo .text"),$(".lo .text")];$(d).each(function(e,t){t.addClass("invisible")});var c,f,u,v=function(e){var t=0,i=$(e+" circle"),o=function(){var e=i.attr("r"),n=Math.PI*(2*e),s=(100-t)/100*n*-1;i.css({strokeDashoffset:s}),t++,100>t?setTimeout(o,10):i.css({strokeDashoffset:0})};o()},h=function(e){return d.length===e?void(d=[]):(d[e].removeClass("invisible"),e++,2===e?setTimeout(function(){v(".bo .progress-circle")},1700):3===e&&setTimeout(function(){v(".lo .progress-circle")},1700),void setTimeout(function(){h(e)},1500))},m=function(e,t){var i=this;return i.target=e,i.top=t.top,i.left=t.left,i.time=t.time,i.lastTop=0,i.lastLeft=0,i.cycle=function(){i.lastTop+=i.top.delta,i.lastLeft+=i.left.delta,(i.lastTop>=i.top.high||i.lastTop<=i.top.low)&&(i.top.delta*=-1),(i.lastLeft>=i.left.high||i.lastLeft<=i.left.low)&&(i.left.delta*=-1),i.target.animate({top:i.lastTop,left:i.lastLeft},i.time),setTimeout(i.cycle,i.time)},i.cycle(),i},p=(new m(t,{top:{low:-80,high:50,delta:1},left:{low:-10,high:70,delta:-.5},time:50}),new m(i,{top:{low:-30,high:10,delta:-1},left:{low:-70,high:20,delta:-.5},time:50}),function(e){var t=parseInt(e.attr("y2"));t>=500||(e.attr("y2",t+5),setTimeout(function(){p(e)},10))}),g=function(e){var t=parseInt(e.attr("x2"));return t>=1110?(p($($(".projects-container .lines line")[1])),void p($($(".projects-container .lines line")[2]))):(e.attr("x2",t+10),void setTimeout(function(){g(e)},10))},T=function(e){if(0===e.length)return void g($($(".projects-container .lines line")[0]));var t=$(e[0]);t.addClass("fade-in"),e=e.splice(1),setTimeout(function(){T(e)},900)},w=function(e){return 0===e.length?void $(".slide-four .text").addClass("fade-in"):($(e[0]).addClass("fade-in"),e=e.splice(1),void setTimeout(function(){w(e)},900))},b=!1,k=7,C=function(){$(".slide-one .logo-w").addClass("fade-in"),setTimeout(y,1500)},y=function(){$(".slide-one .logo-y").addClass("fade-in"),$(".slide-one .logo-w").removeClass("fade-in"),setTimeout(function(){j(0)},2500)},j=function(e){if(e===k-2)x();else if(e===k)return;$(".slide-one .logo-y").toggleClass("heartbeat"),setTimeout(function(){j(e+1)},500)},x=function(){$(".slide-one .logo-y").removeClass("fade-in"),setTimeout(function(){$(".slide-one .logo-w, .slide-one .logo-y").hide(),ee()},1500)},M=function(){$(".slide-one .logo-s").addClass("fade-in"),f=!0},O=new Array([228,46,46],[228,46,46],[228,46,46],[255,165,0],[255,255,0],[128,0,128]),L=0,I=[0,1,2,3],P=.008,D=$(".slide"),B=void 0,_=0,q=1,z=!1,A=2,J=!1,N=3,S=!1,U=function(){u=0,$(".left-arrow").hide(),W(0),D.addClass("loaded")},W=function(t){void 0===t&&(t=2e3);for(var i=0;i<D.length;i++){var o=100*(i-u)+"%";$(D[i]).css("left",o),$(D[i]).css("overflow","hidden")}void 0!==B&&clearTimeout(B),B=setTimeout(function(){for(var e=0;e<D.length;e++)$(D[e]).css("overflow","");B=void 0},t),u===_?(b||(b=!0,setTimeout(C,t)),f&&e()):clearTimeout(c),u!==q||z?u!==A||J?u!==N||S||(S=!0,setTimeout(function(){$(".main-fruit").addClass("fade-in"),setTimeout(function(){w($(".fruits .fruit"))},900)},t)):(J=!0,setTimeout(function(){T($(".projects .project"))},t)):(z=!0,setTimeout(function(){h(0)},t))},E=function(){u===D.length-1?$(".right-arrow").hide():$(".right-arrow").show(),u>0?$(".left-arrow").show():$(".left-arrow").hide()},F=function(){u++,E(),W()},G=function(){u--,E(),W()};$(".right-arrow").on("click",F),$(".left-arrow").on("click",G),U();var H=function(){$(".marked.we").on("click",function(){u=q,E(),W()}),$(".marked.them").on("click",function(){u=A,E(),W()}),$(".marked.us").on("click",function(){u=N,E(),W()})};$(".slide-three .down").on("click",function(){$(".slide-three").animate({scrollTop:$(".clients-page").offset().top},1e3)}),$(".slide-three .up").on("click",function(){$(".slide-three").animate({scrollTop:0},1e3)});var K,Q,R,V,X='<div class="title">    <span class="marked underline we">We</span> make stuff</div><br><div class="title">    for <span class="marked underline them">them</span>, <a href="mailto:lordalex@lobo.studio" class="marked you">y<span class="underline">ou</span></a> and <span class="marked underline us">us</span>.</div><br><div class="text">    LO.BO is a hard-working multi-disciplinary agency delivering high quality projects.</div>',Y=0,Z=$(".slide-one .content"),ee=function(){R=X.slice(0,++Y);var e=X.slice(Y);if(R===X)return H(),void M();var t=R.slice(-1);if("<"===t){if(K=!0,0===e.indexOf("span"))Q=!0;else if(0===e.indexOf("/span"))return Q=!1,void setTimeout(ee,1e3)}else">"===t?K=!1:0===e.indexOf("LO.BO ")&&(V=!0);return K||" "===t?ee():(R+=Q?'</span><div class="slash">|</div>':'<div class="slash">|</div>',Z.html(R),void(V?setTimeout(ee,30):setTimeout(ee,150)))};$.getJSON("data/data.json",function(e){json=e,$(".bo-desc .title").html(e["section-2"].bo.title),$(".bo-desc .text").html(e["section-2"].bo.text),$(".lo-desc .title").html(e["section-2"].lo.title),$(".lo-desc .text").html(e["section-2"].lo.text);for(var t=0;t<e["section-3"].projects.length&&6>t;t++){var i,o=e["section-3"].projects[t],n=$('<div class="project">    <div class="info">        <div class="title"></div>        <div class="desc"></div>    </div>    <div class="link"><i class="fa fa-eye"></i></div></div>');if(o.desc.length>300){i=o.desc.substring(0,300);var s=i.lastIndexOf(" ");s>0&&(i=i.substring(0,s)),i+="..."}else i=o.desc;n.find(".title").html(o.title),n.find(".desc").html(i),t===e["section-3"].projects.length-1&&n.addClass("last"),n.magnificPopup({items:o.imgs,gallery:{enabled:!0},type:"image",removalDelay:400}),$(".slide-three .projects").append(n)}$('<div class="clean"></div>').appendTo($(".slide-three .projects"));for(var l=$(".slide-three .clients .col"),a={},r=0,t=0;t<e["section-3"].clients.length;t++){var d=e["section-3"].clients[t],c=d.title[0].toUpperCase();a.hasOwnProperty(c)||(a[c]=[],r++),a[c].push(d)}var f=l.length,u=0,v=Math.floor(r/f),h=r%f;r=0;for(var m in a)if(a.hasOwnProperty(m)){var p=$('<div class="group">    <div class="title"></div></div>');p.find(".title").html(m);for(var t=0;t<a[m].length;t++){var d=a[m][t],g=$('<div class="item"><a></a></div>');g.find("a").attr("href",d.url).html(d.title),p.append(g)}$(l[0]).append(p),r++,(r%v===0&&u>=h||r%(v+1)===0)&&(l=l.splice(1),u++)}for(var t=0;t<e["section-4"].projects.length;t++){var o=e["section-4"].projects[t],n=$('<div class="fruit">    <a target="_blank">        <img />        <div class="title"></div>        <div class="tag"></div>    </a></div>');n.find("a").attr("href",o.url),n.find("img").attr("src",o.logo),n.find(".title").html(o.title),n.find(".tag").html(o.tag),t===e["section-4"].projects.length-1&&n.addClass("last"),$(".slide-four .fruits").append(n)}$('<div class="clean"></div>').appendTo($(".slide-four .fruits"));var T=$('<a target="_blank"><img></a>');T.attr("href",e["section-4"]["main-project"].url),T.find("img").attr("src",e["section-4"]["main-project"].logo),$(".slide-four .main-fruit").append(T)})});