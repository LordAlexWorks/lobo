var json;$(function(){function ht(){if($!==undefined){var u=r[t[0]],f=r[t[1]],e=r[t[2]],o=r[t[3]],n=1-i,c=Math.round(n*u[0]+i*f[0]),l=Math.round(n*u[1]+i*f[1]),a=Math.round(n*u[2]+i*f[2]),s="rgb("+c+","+l+","+a+")",v=Math.round(n*e[0]+i*o[0]),y=Math.round(n*e[1]+i*o[1]),p=Math.round(n*e[2]+i*o[2]),h="rgb("+v+","+y+","+p+")";$(".slide-one").css({background:"-webkit-gradient(linear, left top, right top, from("+s+"), to("+h+"))"}).css({background:"-moz-linear-gradient(left, "+s+" 0%, "+h+" 100%)"});i+=ei;i>=1&&(i%=1,t[0]=t[1],t[2]=t[3],t[1]=(t[1]+Math.floor(1+Math.random()*(r.length-1)))%r.length,t[3]=(t[3]+Math.floor(1+Math.random()*(r.length-1)))%r.length);ot=setTimeout(ht,50)}}var b=$(".bo img"),k=$(".lo img"),dt=$(".bo .text, .bo .text-mobile"),gt=$(".lo .text, .lo .text-mobile"),l=$(".bo-desc"),a=$(".lo-desc"),ni=$(".bo-desc .close"),ti=$(".lo-desc .close"),o,wt;dt.on("click",function(){l.addClass("open");a.removeClass("open")});gt.on("click",function(){l.removeClass("open");a.addClass("open")});ni.on("click",function(){l.removeClass("open")});ti.on("click",function(){a.removeClass("open")});o=[b,k,$(".bo .text"),$(".lo .text")];$(o).each(function(n,t){t.addClass("invisible")});var d=function(n){var t=0,i=$(n+" circle"),r=function(){var n=i.attr("r"),u=Math.PI*n*2,f=(100-t)/100*u*-1;i.css({strokeDashoffset:f});t++;t<100?setTimeout(r,10):i.css({strokeDashoffset:0})};r()},g=function(n){if(o.length===n){o=[];return}o[n].removeClass("invisible");n++;n===2?setTimeout(function(){d(".bo .progress-circle")},1700):n===3&&setTimeout(function(){d(".lo .progress-circle")},1700);setTimeout(function(){g(n)},1500)},nt=function(n,t){var i=this;return i.target=n,i.top=t.top,i.left=t.left,i.time=t.time,i.lastTop=0,i.lastLeft=0,i.cycle=function(){i.lastTop+=i.top.delta;i.lastLeft+=i.left.delta;(i.lastTop>=i.top.high||i.lastTop<=i.top.low)&&(i.top.delta*=-1);(i.lastLeft>=i.left.high||i.lastLeft<=i.left.low)&&(i.left.delta*=-1);i.target.animate({top:i.lastTop,left:i.lastLeft},i.time);setTimeout(i.cycle,i.time)},i.cycle(),i},ai=new nt(b,{top:{low:-80,high:50,delta:1},left:{low:-10,high:70,delta:-.5},time:50}),vi=new nt(k,{top:{low:-30,high:10,delta:-1},left:{low:-70,high:20,delta:-.5},time:50}),v=function(n){var t=parseInt(n.attr("y2"));t>=500||(n.attr("y2",t+5),setTimeout(function(){v(n)},10))},tt=function(n){var t=parseInt(n.attr("x2"));if(t>=1110){v($($(".projects-container .lines line")[1]));v($($(".projects-container .lines line")[2]));return}n.attr("x2",t+10);setTimeout(function(){tt(n)},10)},it=function(n){if(n.length===0){tt($($(".projects-container .lines line")[0]));return}var t=$(n[0]);t.addClass("fade-in");n=n.splice(1);setTimeout(function(){it(n)},900)},rt=function(n){if(n.length===0){$(".slide-four .text").addClass("fade-in");return}$(n[0]).addClass("fade-in");n=n.splice(1);setTimeout(function(){rt(n)},900)},ut=!1,ft=7,ii=function(){$(".slide-one .logo-w").addClass("fade-in");setTimeout(ri,1500)},ri=function(){$(".slide-one .logo-y").addClass("fade-in");$(".slide-one .logo-w").removeClass("fade-in");setTimeout(function(){et(0)},2500)},et=function(n){if(n===ft-2)ui();else if(n===ft)return;$(".slide-one .logo-y").toggleClass("heartbeat");setTimeout(function(){et(n+1)},500)},ui=function(){$(".slide-one .logo-y").removeClass("fade-in");setTimeout(function(){$(".slide-one .logo-w, .slide-one .logo-y").hide();h()},1500)},fi=function(){$(".slide-one .logo-s").addClass("fade-in");st=!0},r=[[228,46,46],[228,46,46],[228,46,46],[255,165,0],[255,255,0],[128,0,128]],i=0,t=[0,1,2,3],ei=.008,ot,st;var u=$(".slide"),n,c=undefined,oi=0,ct=1,lt=!1,at=2,vt=!1,yt=3,pt=!1,si=function(){n=0;$(".left-arrow").hide();f(0);u.addClass("loaded")},f=function(t){var i,r;for(t===undefined&&(t=2e3),i=0;i<u.length;i++)r=(i-n)*100+"%",$(u[i]).css("left",r),$(u[i]).css("overflow","hidden");c!==undefined&&clearTimeout(c);c=setTimeout(function(){for(var n=0;n<u.length;n++)$(u[n]).css("overflow","");c=undefined},t);n===oi?(ut||(ut=!0,setTimeout(ii,t)),st&&ht()):clearTimeout(ot);n!==ct||lt?n!==at||vt?n!==yt||pt||(pt=!0,setTimeout(function(){$(".main-fruit").addClass("fade-in");setTimeout(function(){rt($(".fruits .fruit"))},900)},t)):(vt=!0,setTimeout(function(){it($(".projects .project"))},t)):(lt=!0,setTimeout(function(){g(0)},t))},s=function(){n===u.length-1?$(".right-arrow").hide():$(".right-arrow").show();n>0?$(".left-arrow").show():$(".left-arrow").hide()},hi=function(){n++;s();f()},ci=function(){n--;s();f()};$(".right-arrow").on("click",hi);$(".left-arrow").on("click",ci);si();wt=function(){$(".marked.we").on("click",function(){n=ct;s();f()});$(".marked.them").on("click",function(){n=at;s();f()});$(".marked.us").on("click",function(){n=yt;s();f()})};$(".slide-three .down").on("click",function(){$(".slide-three").animate({scrollTop:$(".clients-page").offset().top},1e3)});$(".slide-three .up").on("click",function(){$(".slide-three").animate({scrollTop:0},1e3)});var y='<div class="title">    <span class="marked underline we">We<\/span> make stuff<\/div><br><div class="title">    for <span class="marked underline them">them<\/span>, <a href="mailto:lordalex@lobo.studio" class="marked you">y<span class="underline">ou<\/span><\/a> and <span class="marked underline us">us<\/span>.<\/div><br><div class="text">    LO.BO is a hard-working multi-disciplinary agency delivering high quality projects.<\/div>',bt=0,p,w,e,kt,li=$(".slide-one .content"),h=function(){var n,t;if(e=y.slice(0,++bt),n=y.slice(bt),e===y){wt();fi();return}if(t=e.slice(-1),t==="<"){if(p=!0,n.indexOf("span")===0)w=!0;else if(n.indexOf("/span")===0){w=!1;setTimeout(h,1e3);return}}else t===">"?p=!1:n.indexOf("LO.BO ")===0&&(kt=!0);if(p||t===" ")return h();e+=w?'<\/span><div class="slash">|<\/div>':'<div class="slash">|<\/div>';li.html(e);kt?setTimeout(h,30):setTimeout(h,150)};$.getJSON("data/data.json",function(n){var u,v,c,s,l,o,y,t,r,i,a;for(json=n,$(".bo-desc .title").html(n["section-2"].bo.title),$(".bo-desc .text").html(n["section-2"].bo.text),$(".lo-desc .title").html(n["section-2"].lo.title),$(".lo-desc .text").html(n["section-2"].lo.text),t=0;t<n["section-3"].projects.length&&t<6;t++)r=n["section-3"].projects[t],i=$('<div class="project">    <div class="info">        <div class="title"><\/div>        <div class="desc"><\/div>    <\/div>    <div class="link"><i class="fa fa-eye"><\/i><\/div><\/div>'),r.desc.length>300?(u=r.desc.substring(0,300),v=u.lastIndexOf(" "),v>0&&(u=u.substring(0,v)),u+="..."):u=r.desc,i.find(".title").html(r.title),i.find(".desc").html(u),t===n["section-3"].projects.length-1&&i.addClass("last"),i.magnificPopup({items:r.imgs,gallery:{enabled:!0},type:"image",removalDelay:400}),$(".slide-three .projects").append(i);$('<div class="clean"><\/div>').appendTo($(".slide-three .projects"));var h=$(".slide-three .clients .col"),f={},e=0;for(t=0;t<n["section-3"].clients.length;t++)o=n["section-3"].clients[t],c=o.title[0].toUpperCase(),f.hasOwnProperty(c)||(f[c]=[],e++),f[c].push(o);var p=h.length,w=0,b=Math.floor(e/p),k=e%p;e=0;for(s in f)if(f.hasOwnProperty(s)){for(l=$('<div class="group">    <div class="title"><\/div><\/div>'),l.find(".title").html(s),t=0;t<f[s].length;t++)o=f[s][t],y=$('<div class="item"><a><\/a><\/div>'),y.find("a").attr("href",o.url).html(o.title),l.append(y);$(h[0]).append(l);e++;(e%b==0&&w>=k||e%(b+1)==0)&&(h=h.splice(1),w++)}for(t=0;t<n["section-4"].projects.length;t++)r=n["section-4"].projects[t],i=$('<div class="fruit">    <a target="_blank">        <img />        <div class="title"><\/div>        <div class="tag"><\/div>    <\/a><\/div>'),i.find("a").attr("href",r.url),i.find("img").attr("src",r.logo),i.find(".title").html(r.title),i.find(".tag").html(r.tag),t===n["section-4"].projects.length-1&&i.addClass("last"),$(".slide-four .fruits").append(i);$('<div class="clean"><\/div>').appendTo($(".slide-four .fruits"));a=$('<a target="_blank"><img><\/a>');a.attr("href",n["section-4"]["main-project"].url);a.find("img").attr("src",n["section-4"]["main-project"].logo);$(".slide-four .main-fruit").append(a)})});